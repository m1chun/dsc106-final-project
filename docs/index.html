<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Where California Burns</title>

  <link rel="stylesheet" href="style.css">
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>

  <!-- ✅ HERO -->
  <section class="step hero">
    <h1>Where California Burns</h1>
    <h2>A Geographic Story of Wildfire Risk</h2>
    <p class="authors">David Goldstein · Margot Nissen · Mieko Chun</p>
    <p class="hint">Scroll to continue ↓</p>
  </section>

  <!-- ✅ FIRE IMAGES - HOOK -->
  <section class="step two-column-step">

    <div class="column-left">
      <img src="fire-image.jpg" alt="Wildfire imagery">
    </div>

    <div class="column-right">
      <h2>Placeholder</h2>
    </div>

  </section>

  <!-- ✅ FIRE GROWTH - INCIDENTS -->
  <section class="step two-column-step">

    <div class="column-left">
      <img src="fire-incidents.png" alt="Fire incidents growth over time">
    </div>

    <div class="column-right">
      <h2>Modeling Fire Incidents Growth Over Time</h2>
      <p>CalFire annually updates wildfire records across California.</p>
    </div>

  </section>

  <!-- ✅ FIRE GROWTH - ACRES -->
  <section class="step two-column-step">

    <div class="column-left">
      <img src="fire-acreage-burned.png" alt="Fire acreage burned growth over time">
    </div>

    <div class="column-right">
      <h2>Modeling Fire Acreage Burned Growth Over Time</h2>
      <p>CalFire annually updates wildfire records across California.</p>
    </div>

  </section>

  <!-- ✅ SEED ZONES -->
  <section class="step two-column-step">
    <div class="column-left">
      <svg id="seed-zones-svg"></svg>
    </div>

    <div class="column-right">
      <h3>What Are Seed Zones?</h3>
      <p>
        California is divided into 85 seed zones based on long-term climate,
        elevation, and terrain. These zones are determined by the plant species that are
        naturally adapted to survive in each region.
      </p>

      <p>
        Seed zones are critical for wildfire recovery because local vegetation has adapted to be
        more fire-resistant and regenerates more successfully.
        after burns.
      </p>

      <p>
        Hover over a zone on the map to explore individual seed region codes.
      </p>
    </div>
  </section>

  <!-- ✅ PHYSIO REGIONS -->
  <section class="step two-column-step">
    <div class="column-left">
      <svg id="map-physio"></svg>
    </div>

    <div class="column-right">
      <h3>California's Major Physiographic & Climatic Regions</h3>
      <p>
        To better understand wildfire behavior, California can be divided into nine broad physiographic and climatic
        regions. Each region has distinct vegetation, moisture, temperature, and wind patterns that strongly shapes fire
        risk.
      </p>

      <p>
        Hover over a zone on the map to explore individual seed region codes.
      </p>
      <button id="toggle-physio-labels-btn" class="toggle-btn">
        Show Seed Zone Numbers
      </button>
    </div>
  </section>

  <!-- ✅ PHYSIO CHOICE STEP -->
  <section class="step region-chooser">

    <div class="column-left">
      <svg id="map-chooser"></svg>
    </div>

    <div class="column-right">
      <h2>Choose a Physiographic Region</h2>

      <p>
        Hover over a region name to preview it on the map, click to enter the adventure.
      </p>

      <!-- ✅ THIS CLASS WAS MISSING -->
      <ul class="region-preview-list">

        <li data-region="north-coast-redwood">North Coast Redwood</li>
        <li data-region="central-coast">Central Coast</li>
        <li data-region="north-coast-interior">North Coast Interior</li>
        <li data-region="west-slope-sierra">West Slope Cascades-Sierra</li>
        <li data-region="east-slope-sierra">East Slope Cascades-Sierra</li>
        <li data-region="great-basin">Great Basin</li>
        <li data-region="central-valley">Central Valley</li>
        <li data-region="socal-desert">SoCal Desert</li>
        <li data-region="socal-mountains">SoCal Mountains</li>

      </ul>
    </div>

  </section>


  <!-- =============================== -->
  <!-- ✅ REGION ADVENTURE MODE -->
  <!-- =============================== -->
  <section id="region-adventure" class="hidden">

    <!-- ✅ BACK BUTTON -->
    <button id="exit-adventure" class="back-btn">
      ← Back to Main Story
    </button>

    <div class="adventure-container">

      <!-- ✅ LEFT: TEXT SCROLL -->
      <div class="adventure-text">

        <div class="step" data-adventure-step="overview">
          <h2 id="adventure-title">Region Overview</h2>
          <p id="adventure-description"></p>
          <!-- ✅ NEW: OVERVIEW IMAGE -->
          <img id="adventure-overview-image" class="adventure-image" src="" alt="Region landscape">
        </div>

        <div class="step" data-adventure-step="fire">
          <h2>Fire Behavior</h2>
          <p id="adventure-fire"></p>
        </div>

        <div class="step" data-adventure-step="veg">
          <h2>Vegetation & Fuel</h2>
          <p id="adventure-veg"></p>
        </div>

      </div>

      <!-- ✅ RIGHT: ADVENTURE MAP -->
      <div class="adventure-graphic">

        <!-- ✅ STEP 1: PHYSIO MAP -->
        <div class="adventure-view" id="adventure-view-map">
          <svg id="adventure-map"></svg>
        </div>

        <!-- ✅ STEP 2: FIRE VIZ (EMPTY FOR NOW) -->
        <div class="adventure-view hidden" id="adventure-view-fire">
          <div id="adventure-fire-wrapper">
            <div id="adventure-fire-chart"></div>
          </div>

          <div class="fire-simulator">
            <label for="fireMultiplier">
              Fire Intensity Multiplier:
              <span id="fireMultiplierValue">1.00x</span>
            </label>

            <input type="range" id="fireMultiplier" min="0.5" max="2" step="0.01" value="1">
          </div>


        </div>

        <!-- ✅ STEP 3: VEG VIZ (EMPTY FOR NOW) -->
        <div class="adventure-view hidden" id="adventure-view-veg">
          <div id="adventure-veg-wrapper">
            <div id="adventure-veg-chart"></div>
          </div>
        </div>

      </div>

    </div>
  </section>


  <!-- ✅ TOOLTIP (REQUIRED FOR HOVER TO WORK) -->
  <div class="tooltip"></div>

  <!-- ✅ SCRIPTS -->
  <script src="seed-zones.js"></script>
  <script src="physio-zones.js"></script>
  <script src="physio-chooser.js"></script>
  <script src="region-data.js"></script>

  <script src="adventure-charts.js"></script>

  <script src="https://unpkg.com/scrollama"></script>
  <script src="app.js"></script>

</body>

</html>